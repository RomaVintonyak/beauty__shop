jQuery(document).ready(function(){var e=$("._popup"),r=$(".modal"),t=$(".modal__mask"),o=$(".modal__content"),a=$(".modal__recover"),i=$("#modalClose");e.on("click",function(e){e.preventDefault(),r.addClass("modal__open"),$("body").css({overflow:"hidden"})}),i.on("click",function(e){e.preventDefault(),r.removeClass("modal__open"),$("body").removeAttr("style")}),t.on("click",function(){r.removeClass("modal__open"),$("body").removeAttr("style"),o.removeClass("modal__content--active"),a.removeClass("modal__recover--active")}),o.on("click",function(e){e.stopPropagation()});var s=$("#recoverPass"),l=$("#recoverClose");s.on("click",function(e){e.preventDefault(),a.addClass("modal__recover--active"),o.addClass("modal__content--active")}),l.on("click",function(){r.removeClass("modal__open"),$("body").removeAttr("style"),a.removeClass("modal__recover--active"),o.removeClass("modal__content--active")}),a.on("click",function(e){e.stopPropagation()});var c=$(".switch__tabs");c.on("click",function(e){e.preventDefault(),c.removeClass("switch__tabs--active"),$(this).addClass("switch__tabs--active")}),$("._login").on("click",function(){$(".modal__register").removeClass("modal__register--active"),$(".modal__login").addClass("modal__login--active")}),$("._register").on("click",function(){$(".modal__login").removeClass("modal__login--active"),$(".modal__register").addClass("modal__register--active")});var n=$("#sendAuth"),v=$("#loginForm").attr("data-action");n.on("click",function(){var e=$("#emailAuth").val().trim(),r=$("#paswordAuth").val().trim();return/^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i.test(e)&&""!=e?r.length<10?($(".error__mail--auth").removeAttr("style"),$(".error__password--auth").css({opacity:"1",visibility:"visible"}),!1):($(".error__mail--auth").removeAttr("style"),$(".error__password--auth").removeAttr("style"),void $.ajax({url:v,type:"POST",cache:!1,data:{action:"sendAuthForm",emailAuth:e,passAuth:r},dataType:"html",beforeSend:function(){n.prop("disabled",!0)},success:function(e){e?$("#loginForm").trigger("reset"):alert("Щось не так ... Спробуйте ще раз!"),alert(e),n.prop("disabled",!1),location.reload(!0)}})):($(".error__mail--auth").css({opacity:"1",visibility:"visible"}),!1)});var _=$("#sendRegister"),m=$("#registerForm").attr("data-action");_.on("click",function(){var e=$("#nameRegister").val().trim(),r=$("#emailRegister").val().trim(),t=$("#paswordRegister").val().trim();return e.length<6?($(".error__name--register").css({opacity:"1",visibility:"visible"}),!1):/^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i.test(r)&&""!=r?t.length<10?($(".error__name--register").removeAttr("style"),$(".error__mail--register").removeAttr("style"),$(".error__password--register").css({opacity:"1",visibility:"visible"}),!1):($(".error__name--register").removeAttr("style"),$(".error__mail--register").removeAttr("style"),$(".error__password--register").removeAttr("style"),void $.ajax({url:m,type:"POST",cache:!1,data:{action:"sendRegisterForm",nameRegister:e,emailRegister:r,passRegister:t},dataType:"html",beforeSend:function(){_.prop("disabled",!0)},success:function(e){e?$("#registerForm").trigger("reset"):alert("Щось не так ... Спробуйте ще раз!"),alert(e),_.prop("disabled",!1)}})):($(".error__name--register").removeAttr("style"),$(".error__mail--register").css({opacity:"1",visibility:"visible"}),!1)});var d=$("#sendRecover"),p=$("#recoverForm").attr("data-action");d.on("click",function(){var e=$("#emailRecover").val().trim(),r=$("#passwordRecover").val().trim(),t=$("#repeatPasswordRecover").val().trim();return/^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i.test(e)&&""!=e?r.length<10?($(".error__mail--recover").removeAttr("style"),$(".error__password--recover").css({opacity:"1",visibility:"visible"}),!1):t!=r?($(".error__mail--recover").removeAttr("style"),$(".error__password--recover").removeAttr("style"),$(".error__repeatPassword--recover").css({opacity:"1",visibility:"visible"}),!1):($(".error__mail--recover").removeAttr("style"),$(".error__password--recover").removeAttr("style"),$(".error__repeatPassword--recover").removeAttr("style"),void $.ajax({url:p,type:"POST",cache:!1,data:{action:"sendRecoverForm",emailRecover:e,repeatNewPassword:t},dataType:"html",beforeSend:function(){d.prop("disabled",!0)},success:function(e){e?$("#recoverForm").trigger("reset"):alert("Щось не так ... Спробуйте ще раз!"),alert(e),d.prop("disabled",!1)}})):($(".error__mail--recover").css({opacity:"1",visibility:"visible"}),!1)})});