jQuery(document).ready(function(){var t=$("._basketBye"),e=$(".basket__modal"),o=$(".basket__modal--mask"),r=$(".basket__modal--body"),s=$("#basketModalClose");function a(){!function(t){for(var e=0,o=0;o<t.length;o++)e+=t[o];$("._basketSumm").html(e)}($("._tovarSumm").map(function(){var t=$(this).text();return Number(t)}).get())}t.on("click",function(t){t.preventDefault(),e.addClass("basket__modal--open"),$("body").css({"overflow-y;":": scroll"})}),s.on("click",function(t){t.preventDefault(),e.removeClass("basket__modal--open"),$("body").removeAttr("style")}),o.on("click",function(){e.removeClass("basket__modal--open"),$("body").removeAttr("style")}),r.on("click",function(t){t.stopPropagation()}),$("._tovarPrice").each(function(){var t=$(this).text()*$(this).closest(".tovar__opys").closest(".tovar__block--content").find("._tovarCount").val();$(this).closest(".tovar__opys").closest(".tovar__block--content").find("._tovarSumm").html(t)}),a(),$("._removeBlock").on("click",function(){if(!confirm("Бажаєте видалити дану позицію?"))return!1;$(this).closest(".tovar__block--delete").closest(".tovar__block").remove(),a()}),$(".count__minus").on("click",function(t){t.preventDefault();var e=$(this).closest(".tovar__count").find("._tovarCount"),o=parseInt(e.val())-1;o=o<1?1:o,e.val(o),e.change();var r=$(this).closest(".tovar__count").closest(".tovar__block--content").find("._tovarPrice").text()*$(this).closest(".tovar__count").find("._tovarCount").val().trim();return $(this).closest(".tovar__count").closest(".tovar__block--content").find("._tovarSumm").html(r),a(),!1}),$(".count__plus").on("click",function(t){t.preventDefault();var e=$(this).closest(".tovar__count").find("._tovarCount");e.val(parseInt(e.val())+1),e.change();var o=$(this).closest(".tovar__count").closest(".tovar__block--content").find("._tovarPrice").text()*$(this).closest(".tovar__count").find("._tovarCount").val().trim();return $(this).closest(".tovar__count").closest(".tovar__block--content").find("._tovarSumm").html(o),a(),!1});var l=$("#sendBasket"),n=$("#basketForm").attr("data-action");l.on("click",function(){var t=$("#basketPIB").val().trim(),e=$("#basketPhone").val().trim(),o=$("#basketMail").val().trim(),r=$("#basketAdress").val().trim(),s=$("#basketDostavka :selected").val().trim(),a=$("#basketOplata :selected").val().trim();return t.length<6?($(".error__pib--basket").css({opacity:"1",visibility:"visible"}),!1):e.length<6||!/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/.test(e)?($(".error__pib--basket").removeAttr("style"),$(".error__phone--basket").css({opacity:"1",visibility:"visible"}),!1):/^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i.test(o)&&""!=o?r.length<6?($(".error__pib--basket").removeAttr("style"),$(".error__phone--basket").removeAttr("style"),$(".error__mail--basket").removeAttr("style"),$(".error__adress--basket").css({opacity:"1",visibility:"visible"}),!1):($(".error__pib--basket").removeAttr("style"),$(".error__phone--basket").removeAttr("style"),$(".error__mail--basket").removeAttr("style"),$(".error__adress--basket").removeAttr("style"),void $.ajax({url:n,type:"POST",cache:!1,data:{action:"sendBasketForm",basketPIB:t,basketPhone:e,basketMail:o,basketAdress:r,basketDostavka:s,basketOplata:a},dataType:"html",beforeSend:function(){l.prop("disabled",!0)},success:function(t){t?$("#basketForm").trigger("reset"):alert("Щось не так ... Спробуйте ще раз!"),alert(t),l.prop("disabled",!1)}})):($(".error__pib--basket").removeAttr("style"),$(".error__phone--basket").removeAttr("style"),$(".error__mail--basket").css({opacity:"1",visibility:"visible"}),!1)})});